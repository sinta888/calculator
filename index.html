<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NTU Tuition Fee Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    .step { display: none; }
    .active { display: block; }
    button { margin: 20px 10px 0 0; padding: 10px 20px; cursor: pointer; }
    .result { margin-top: 30px; padding: 15px; border: 1px solid #ccc; background: #f9f9f9; }
  </style>
</head>
<body>
  <h1>NTU Tuition Fee Calculator</h1>

  <!-- Step 1: Status -->
  <div class="step active" id="step1">
    <h3>Select your status:</h3>
    <label><input type="radio" name="status" value="intl"> International Student</label><br>
    <label><input type="radio" name="status" value="scspr"> Singapore Citizen / Permanent Resident</label><br>
    <button onclick="nextStep(1)">Next</button>
  </div>

  <!-- Step 2: Financial Aid (only if SC/SPR) -->
  <div class="step" id="step2">
    <h3>Are you eligible for financial aid? (SC/SPR only)</h3>
    <label><input type="radio" name="aid" value="none" checked> No</label><br>
    <label><input type="radio" name="aid" value="yes"> Yes (up to $15,000)</label><br>
    <button onclick="prevStep(2)">Back</button>
    <button onclick="nextStep(2)">Next</button>
  </div>

  <!-- Step 3: Alumni -->
  <div class="step" id="step3">
    <h3>Are you an NTU Alumni?</h3>
    <label><input type="radio" name="alumni" value="no" checked> No</label><br>
    <label><input type="radio" name="alumni" value="yes"> Yes (10% rebate)</label><br>
    <button onclick="prevStep(3)">Back</button>
    <button onclick="nextStep(3)">Calculate</button>
  </div>

  <!-- Step 4: Result -->
  <div class="step" id="step4">
    <h3>Your Estimated Tuition Fee</h3>
    <div class="result" id="tuitionResult"></div>
    <button onclick="prevStep(4)">Back</button>
  </div>

  <script>
    let tuitionBase = 56156.80; // 30 AUs minimum total

    function nextStep(current) {
      document.getElementById("step" + current).classList.remove("active");

      if (current === 1) {
        let status = document.querySelector("input[name='status']:checked").value;
        if (status === "intl") {
          // skip financial aid, go straight to alumni
          document.getElementById("step3").classList.add("active");
          return;
        } else {
          document.getElementById("step2").classList.add("active");
          return;
        }
      }

      if (current < 3) {
        document.getElementById("step" + (current + 1)).classList.add("active");
      } else {
        calcTuition();
        document.getElementById("step4").classList.add("active");
      }
    }

    function prevStep(current) {
      document.getElementById("step" + current).classList.remove("active");

      if (current === 3) {
        let status = document.querySelector("input[name='status']:checked").value;
        if (status === "intl") {
          document.getElementById("step1").classList.add("active"); // intl skips aid
        } else {
          document.getElementById("step2").classList.add("active");
        }
        return;
      }

      document.getElementById("step" + (current - 1)).classList.add("active");
    }

    function calcTuition() {
      let tuition = tuitionBase;
      let status = document.querySelector("input[name='status']:checked").value;
      let alumni = document.querySelector("input[name='alumni']:checked").value;

      if (status === "scspr") {
        tuition -= 5000; // base subsidy
        let aid = document.querySelector("input[name='aid']:checked").value;
        if (aid === "yes") tuition -= 15000;
      }
      if (alumni === "yes") tuition *= 0.9;

      document.getElementById("tuitionResult").innerHTML =
        `<b>S$${tuition.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</b>`;
    }
  </script>
</body>
</html>
